{"ast":null,"code":"// src/App.js\nimport React,{useState}from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import{CssBaseline,Container}from'@mui/material';import{ThemeProvider,createTheme}from'@mui/material/styles';import{MovieProvider}from'./context/MovieContext';import{AuthProvider,useAuth}from'./context/AuthContext';import Home from'./pages/Home';import MoviePage from'./pages/MoviePage';import Favorites from'./pages/Favorites';import Login from'./pages/Login';import Signup from'./pages/Signup';import ForgotPassword from'./pages/ForgotPassword';import ResetPassword from'./pages/ResetPassword';import ThemeToggle from'./components/ThemeToggle';import{loadFromLocalStorage,saveToLocalStorage}from'./utils/localStorageHelpers';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children}=_ref;const{currentUser}=useAuth();return currentUser?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}export default function App(){const initialMode=loadFromLocalStorage('themeMode')||'light';const[mode,setMode]=useState(initialMode);const theme=createTheme({palette:{mode}});const toggleTheme=()=>{const newMode=mode==='light'?'dark':'light';setMode(newMode);saveToLocalStorage('themeMode',newMode);};return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(MovieProvider,{children:/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{py:2},children:[/*#__PURE__*/_jsx(ThemeToggle,{mode:mode,toggleTheme:toggleTheme}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/movie/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MoviePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/favorites\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Favorites,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",element:/*#__PURE__*/_jsx(ForgotPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset-password\",element:/*#__PURE__*/_jsx(ResetPassword,{})})]})]})})]})})});}","map":{"version":3,"names":["React","useState","BrowserRouter","Routes","Route","Navigate","CssBaseline","Container","ThemeProvider","createTheme","MovieProvider","AuthProvider","useAuth","Home","MoviePage","Favorites","Login","Signup","ForgotPassword","ResetPassword","ThemeToggle","loadFromLocalStorage","saveToLocalStorage","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","currentUser","to","replace","App","initialMode","mode","setMode","theme","palette","toggleTheme","newMode","maxWidth","sx","py","path","element"],"sources":["C:/Users/DARSHAN/Documents/Movie Explorer/movie-explorer/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { CssBaseline, Container } from '@mui/material';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\nimport { MovieProvider } from './context/MovieContext';\nimport { AuthProvider, useAuth } from './context/AuthContext';\n\nimport Home from './pages/Home';\nimport MoviePage from './pages/MoviePage';\nimport Favorites from './pages/Favorites';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport ThemeToggle from './components/ThemeToggle';\n\nimport { loadFromLocalStorage, saveToLocalStorage } from './utils/localStorageHelpers';\nimport './App.css';\n\nfunction ProtectedRoute({ children }) {\n  const { currentUser } = useAuth();\n  return currentUser ? children : <Navigate to=\"/login\" replace />;\n}\n\nexport default function App() {\n  const initialMode = loadFromLocalStorage('themeMode') || 'light';\n  const [mode, setMode] = useState(initialMode);\n\n  const theme = createTheme({\n    palette: { mode },\n  });\n\n  const toggleTheme = () => {\n    const newMode = mode === 'light' ? 'dark' : 'light';\n    setMode(newMode);\n    saveToLocalStorage('themeMode', newMode);\n  };\n\n  return (\n    <AuthProvider>\n      <MovieProvider>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <BrowserRouter>\n            <Container maxWidth=\"lg\" sx={{ py: 2 }}>\n              <ThemeToggle mode={mode} toggleTheme={toggleTheme} />\n              <Routes>\n                <Route path=\"/\" element={<Home />} />\n                <Route path=\"/movie/:id\" element={<ProtectedRoute><MoviePage /></ProtectedRoute>} />\n                <Route path=\"/favorites\" element={<ProtectedRoute><Favorites /></ProtectedRoute>} />\n                <Route path=\"/login\" element={<Login />} />\n                <Route path=\"/register\" element={<Signup />} />\n                <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n                <Route path=\"/reset-password\" element={<ResetPassword />} />\n              </Routes>\n            </Container>\n          </BrowserRouter>\n        </ThemeProvider>\n      </MovieProvider>\n    </AuthProvider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}