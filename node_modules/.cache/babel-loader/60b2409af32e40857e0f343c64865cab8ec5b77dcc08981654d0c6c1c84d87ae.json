{"ast":null,"code":"// src/pages/MoviePage.jsx\nimport React,{useEffect,useState}from'react';import{useParams,Link,useLocation}from'react-router-dom';import tmdb from'../api/tmdb';import{Typography,Container,Button,Box}from'@mui/material';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MoviePage(){var _movie$videos,_movie$videos$results;const{id}=useParams();const[movie,setMovie]=useState(null);const{isAuthenticated}=useAuth();const location=useLocation();useEffect(()=>{const fetchDetails=async()=>{try{const res=await tmdb.get(`/movie/${id}`,{params:{append_to_response:'videos,credits'}});setMovie(res.data);}catch(error){console.error('Error fetching movie details:',error);}};fetchDetails();},[id]);if(!movie)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});const trailer=(_movie$videos=movie.videos)===null||_movie$videos===void 0?void 0:(_movie$videos$results=_movie$videos.results)===null||_movie$videos$results===void 0?void 0:_movie$videos$results.find(v=>v.type==='Trailer');if(!isAuthenticated){return/*#__PURE__*/_jsxs(Container,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"You must be logged in to view this movie's details and trailer.\"}),/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsx(Link,{to:\"/login\",state:{from:location},style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",children:\"Login to Continue\"})})})]});}return/*#__PURE__*/_jsxs(Container,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:movie.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{my:2},children:movie.overview}),trailer&&/*#__PURE__*/_jsx(Box,{sx:{my:2},children:/*#__PURE__*/_jsx(\"iframe\",{width:\"560\",height:\"315\",src:`https://www.youtube.com/embed/${trailer.key}`,title:\"Trailer\",frameBorder:\"0\",allowFullScreen:true})})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","useLocation","tmdb","Typography","Container","Button","Box","useAuth","jsx","_jsx","jsxs","_jsxs","MoviePage","_movie$videos","_movie$videos$results","id","movie","setMovie","isAuthenticated","location","fetchDetails","res","get","params","append_to_response","data","error","console","children","trailer","videos","results","find","v","type","sx","mt","variant","gutterBottom","to","state","from","style","textDecoration","title","my","overview","width","height","src","key","frameBorder","allowFullScreen"],"sources":["C:/Users/DARSHAN/Documents/Movie Explorer/movie-explorer/src/pages/MoviePage.jsx"],"sourcesContent":["// src/pages/MoviePage.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, Link, useLocation } from 'react-router-dom';\r\nimport tmdb from '../api/tmdb';\r\nimport { Typography, Container, Button, Box } from '@mui/material';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nexport default function MoviePage() {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const { isAuthenticated } = useAuth();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const fetchDetails = async () => {\r\n      try {\r\n        const res = await tmdb.get(`/movie/${id}`, {\r\n          params: { append_to_response: 'videos,credits' }\r\n        });\r\n        setMovie(res.data);\r\n      } catch (error) {\r\n        console.error('Error fetching movie details:', error);\r\n      }\r\n    };\r\n    fetchDetails();\r\n  }, [id]);\r\n\r\n  if (!movie) return <p>Loading...</p>;\r\n\r\n  const trailer = movie.videos?.results?.find(v => v.type === 'Trailer');\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <Container sx={{ mt: 4 }}>\r\n        <Typography variant=\"h5\" gutterBottom>You must be logged in to view this movie's details and trailer.</Typography>\r\n        <Box sx={{ mt: 2 }}>\r\n          <Link to=\"/login\" state={{ from: location }} style={{ textDecoration: 'none' }}>\r\n            <Button variant=\"contained\">Login to Continue</Button>\r\n          </Link>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container sx={{ mt: 4 }}>\r\n      <Typography variant=\"h3\">{movie.title}</Typography>\r\n      <Typography variant=\"body1\" sx={{ my: 2 }}>{movie.overview}</Typography>\r\n      {trailer && (\r\n        <Box sx={{ my: 2 }}>\r\n          <iframe\r\n            width=\"560\"\r\n            height=\"315\"\r\n            src={`https://www.youtube.com/embed/${trailer.key}`}\r\n            title=\"Trailer\"\r\n            frameBorder=\"0\"\r\n            allowFullScreen\r\n          ></iframe>\r\n        </Box>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}