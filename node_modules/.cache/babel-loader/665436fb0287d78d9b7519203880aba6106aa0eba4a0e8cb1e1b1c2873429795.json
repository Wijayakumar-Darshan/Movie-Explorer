{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DARSHAN\\\\Documents\\\\Movie Explorer\\\\movie-explorer\\\\src\\\\context\\\\MovieContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/MovieContext.jsx\nimport React, { createContext, useContext, useState } from 'react';\nimport { useAuth } from './AuthContext'; // Make sure this path is correct\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MovieContext = /*#__PURE__*/createContext();\nexport const useMovie = () => {\n  _s();\n  return useContext(MovieContext);\n};\n_s(useMovie, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const MovieProvider = ({\n  children\n}) => {\n  _s2();\n  const {\n    isAuthenticated\n  } = useAuth(); // use login state\n  const [movies, setMovies] = useState([]);\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')) || []);\n  const toggleFavorite = movie => {\n    if (!isAuthenticated) {\n      alert('You must be logged in to add favorites.');\n      return;\n    }\n    let updated;\n    if (favorites.some(m => m.id === movie.id)) {\n      updated = favorites.filter(m => m.id !== movie.id);\n    } else {\n      updated = [...favorites, movie];\n    }\n    setFavorites(updated);\n    localStorage.setItem('favorites', JSON.stringify(updated));\n  };\n  return /*#__PURE__*/_jsxDEV(MovieContext.Provider, {\n    value: {\n      movies,\n      setMovies,\n      favorites,\n      toggleFavorite\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s2(MovieProvider, \"1FIaJrDkdLr6eIIMVkpcmwiftDw=\", false, function () {\n  return [useAuth];\n});\n_c = MovieProvider;\nvar _c;\n$RefreshReg$(_c, \"MovieProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useAuth","jsxDEV","_jsxDEV","MovieContext","useMovie","_s","MovieProvider","children","_s2","isAuthenticated","movies","setMovies","favorites","setFavorites","JSON","parse","localStorage","getItem","toggleFavorite","movie","alert","updated","some","m","id","filter","setItem","stringify","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/DARSHAN/Documents/Movie Explorer/movie-explorer/src/context/MovieContext.jsx"],"sourcesContent":["// src/context/MovieContext.jsx\r\nimport React, { createContext, useContext, useState } from 'react';\r\nimport { useAuth } from './AuthContext'; // Make sure this path is correct\r\n\r\nconst MovieContext = createContext();\r\n\r\nexport const useMovie = () => useContext(MovieContext);\r\n\r\nexport const MovieProvider = ({ children }) => {\r\n  const { isAuthenticated } = useAuth(); // use login state\r\n  const [movies, setMovies] = useState([]);\r\n  const [favorites, setFavorites] = useState(\r\n    JSON.parse(localStorage.getItem('favorites')) || []\r\n  );\r\n\r\n  const toggleFavorite = (movie) => {\r\n    if (!isAuthenticated) {\r\n      alert('You must be logged in to add favorites.');\r\n      return;\r\n    }\r\n\r\n    let updated;\r\n    if (favorites.some(m => m.id === movie.id)) {\r\n      updated = favorites.filter(m => m.id !== movie.id);\r\n    } else {\r\n      updated = [...favorites, movie];\r\n    }\r\n\r\n    setFavorites(updated);\r\n    localStorage.setItem('favorites', JSON.stringify(updated));\r\n  };\r\n\r\n  return (\r\n    <MovieContext.Provider value={{ movies, setMovies, favorites, toggleFavorite }}>\r\n      {children}\r\n    </MovieContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAClE,SAASC,OAAO,QAAQ,eAAe,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,YAAY,gBAAGN,aAAa,CAAC,CAAC;AAEpC,OAAO,MAAMO,QAAQ,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMP,UAAU,CAACK,YAAY,CAAC;AAAA;AAACE,EAAA,CAA1CD,QAAQ;AAErB,OAAO,MAAME,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC7C,MAAM;IAAEC;EAAgB,CAAC,GAAGT,OAAO,CAAC,CAAC,CAAC,CAAC;EACvC,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CACxCe,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,EACnD,CAAC;EAED,MAAMC,cAAc,GAAIC,KAAK,IAAK;IAChC,IAAI,CAACV,eAAe,EAAE;MACpBW,KAAK,CAAC,yCAAyC,CAAC;MAChD;IACF;IAEA,IAAIC,OAAO;IACX,IAAIT,SAAS,CAACU,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKL,KAAK,CAACK,EAAE,CAAC,EAAE;MAC1CH,OAAO,GAAGT,SAAS,CAACa,MAAM,CAACF,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKL,KAAK,CAACK,EAAE,CAAC;IACpD,CAAC,MAAM;MACLH,OAAO,GAAG,CAAC,GAAGT,SAAS,EAAEO,KAAK,CAAC;IACjC;IAEAN,YAAY,CAACQ,OAAO,CAAC;IACrBL,YAAY,CAACU,OAAO,CAAC,WAAW,EAAEZ,IAAI,CAACa,SAAS,CAACN,OAAO,CAAC,CAAC;EAC5D,CAAC;EAED,oBACEnB,OAAA,CAACC,YAAY,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAEnB,MAAM;MAAEC,SAAS;MAAEC,SAAS;MAAEM;IAAe,CAAE;IAAAX,QAAA,EAC5EA;EAAQ;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAE5B,CAAC;AAACzB,GAAA,CA7BWF,aAAa;EAAA,QACIN,OAAO;AAAA;AAAAkC,EAAA,GADxB5B,aAAa;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}